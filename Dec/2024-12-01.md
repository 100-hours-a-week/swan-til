### SSL ν•Έλ“μ…°μ΄ν¬

1. client hello : ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ•”νΈ μ¤μ„νΈ(μ‚¬μ©ν•  μ•”νΈ μ•κ³ λ¦¬μ¦, ν•΄μ‹ μ•κ³ λ¦¬μ¦ μ΅°ν•©) λ©λ΅κ³Ό λλ¤ μ„¤μ •κ°’μ„ μ „μ†΅
2. server hello : 
    1. κΈ°λ³Έλ™μ‘ : μ•”νΈ ν†µμ‹ μ— μ‚¬μ©ν•  μ•”νΈ, ν•΄μ‹ μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•κ³  λλ¤ μ„¤μ •κ°’μ„ μ „μ†΅
    2. ν›„μ†λ™μ‘ certificate : μ„λ²„μ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
    3. ν›„μ†λ™μ‘ server hello done : μ„λ²„κ°€ λ¨λ“  μ „μ†΅μ„ λλƒμμ„ μ•λ¦Ό (ν΄λΌμ΄μ–ΈνΈλ” λ£¨νΈ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν• ν›„ ν•΄μ‹κ°’μ„ λΉ„κµν•΄ κ²€μ¦)
3. κ³µν†µν‚¤ κµν™ : ν΄λΌμ΄μ–ΈνΈκ°€ ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώμ„ λ§λ“¤μ–΄ κ³µκ°ν‚¤λ΅ μ „μ†΅
    1. μ΄ ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώκ³Ό 1, 2 κ³Όμ •μ—μ„ μ„λ΅ μ£Όκ³  λ°›μ€ client random, server random μ„ ν†µν•΄ κ³µν†µν‚¤λ¥Ό λ§λ“¦. μ΄μ  κ³µν†µν‚¤μΈ μ„Έμ…ν‚¤μ™€ ν•΄μ‹μ— μ‚¬μ©λλ” MACν‚¤κ°€ λ§λ“¤μ–΄μ΅λ‹¤
4. μΆ…λ£ : ν΄λΌμ΄μ–ΈνΈκ°€ μ•”νΈ μ¤ν™κ³Ό μΆ…λ£λ¥Ό μ „λ‹¬ν•κ³  μ„λ²„κ°€ μ•”νΈ μ¤ν™κ³Ό μΆ…λ£λ¥Ό μ „λ‹¬ν•λ©° ν•Έλ“μ…°μ΄ν¬κ°€ μΆ…λ£λ©λ‹λ‹¤. μ΄μ  SSL μ„Έμ…μ΄ μƒμ„±λλ©° λ³Έκ²©μ μΈ μ•”νΈ λ°μ΄ν„° μ „μ†΅μ„ μ‹μ‘

RTTλ” λ€λµ 3

client hello β†’ server hello

certificate β†’ κ³µν†µν‚¤ κµν™

finished β†’ finished

<aside>
π’΅

TLS ν•Έλ“μ…°μ΄ν¬

SSL μ§€λ‚κ°„ μ—¬λ¬ λ¬Έμ μ κ³Ό λ…Έν›„ν™”λ¥Ό κ²μ–΄ TLS λ΅ λ³€ν™ν•κ² λ©λ‹λ‹¤. ν° νλ¦„μ€ λΉ„μ·ν•μ§€λ§ λ”μ± κ°•λ ¥ν• μ•κ³ λ¦¬μ¦ λ“±μ„ μ μ©ν–μµλ‹λ‹¤.  

λ”°λΌμ„ μ•κ³ λ¦¬μ¦μ  μ„±ν–¥μ΄ κ°•ν• νƒ“μ— TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ • μμ²΄μ μ„¤λ…μ€ μƒλµν•κ² μµλ‹λ‹¤. SSL ν•Έλ“μ…°μ΄ν¬ κ³Όμ •λ§μΌλ΅λ„ μ¶©λ¶„ν ν¨ν‚· λ¶„μ„μ„ μ‹λ„ν•  μ μμµλ‹λ‹¤.

</aside>

### λ¶„μ„

### **1. Client Hello**

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.27.49.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/7ae271e6-a359-4252-8ee5-fe913c63b878/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.27.49.png)

- ν΄λΌμ΄μ–ΈνΈμ μ•”νΈ, ν•΄μ‹ μ•κ³ λ¦¬μ¦ μ΅°ν•©μΈ μ•”νΈ μ¤μ„νΈ λ©λ΅κ³Ό λ‚μκ°’μ„ μ „λ‹¬ν•©λ‹λ‹¤.

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.31.36.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/0e4417c0-77ac-4972-95b2-a83d50df681f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.31.36.png)

μ„μ—μ„λ³Έ SSL λ™μ‘κ³Όμ •κ³Ό λ‹¬λ¦¬ Client Hello μ΄ν›„ Application Data, Encrypted Alert μ΄ μ¶”κ°€λ΅ μ „μ†΅λλ‹¤.

---

### **2. Server Hello**

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.33.06.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/2ab24c00-3e74-4353-97a5-dfa248962a1a/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.33.06.png)

- μ„λ²„μ—μ„  μ‚¬μ©ν•  μ•”νΈ μ¤μ„νΈμ™€ μ„λ²„μ λ‚μκ°’μ„ λ°ν™ν•©λ‹λ‹¤.

---

### **3. Certificate , Server Key Exchange, Server Hello Done**

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.35.32.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/7d434793-3be1-41f3-b582-96c6c00996cc/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.35.32.png)

- μ„λ²„λ” μΈμ¦μ„λ¥Ό μ „μ†΅ν•κ³  ν‚¤ κµν™μ„ ν•λ©° Server Hello λ¥Ό μΆ…λ£ν•©λ‹λ‹¤.
- SSL ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„  ν΄λΌμ΄μ–ΈνΈκ°€ κ³µκ°ν‚¤ κµν™μ„ λ¨Όμ € μ‹λ„ν–λ”λ° μ΄λ²μ—” μ„λ²„κ°€ λ¨Όμ € μ‹λ„ν•©λ‹λ‹¤.
- κ³µκ°ν‚¤ μμ²΄κ°€ μ „λ‹¬λλ” κ²ƒμ€ μ•„λ‹κ³  μμ²΄ μƒμ„±ν• μ„μμ ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώκ³Ό 1, 2 κ³Όμ •μ—μ„ μ–»μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λ‚μκ°’μ„ μ¬λ£λ΅ν•΄ κ³µκ°ν‚¤λ¥Ό μ¤μ¤λ΅ λ§λ“¤μ–΄λƒ…λ‹λ‹¤. (μ¬λ£λ§ λμ Έμ£Όκ³  μ¤μ¤λ΅ λ§λ“¤κΈ°)

---

### **4. Client Key Exchange, Change Cipher Spec, Encrypted Handshake Message**

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.41.21.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/b2a0f4ba-b44c-4d66-ac2e-99dcf0a809c3/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.41.21.png)

- μμƒλ€λ΅ Clientμ—μ„λ„ ν‚¤ κµν™κ³Ό Change Cipher Spec μ„ λ³΄λƒ…λ‹λ‹¤. μ΄ν›„ finished λ¥Ό μμƒν–μ§€λ§ Encrypted Handshake Message λ¥Ό λ³΄λƒ…λ‹λ‹¤. κ²€μƒ‰μ„ ν•΄λ³΄λ‹ finished λ‚΄μ©μ„ μ•”νΈν™”ν•΄μ„ λ³΄λƒλ‹¤ν•λ”λ° μ•”νΈν™”λ λ‚΄μ©μ„ λ―μ–΄λ³Ό μκ°€ μ—†μ—μµλ‹λ‹¤.

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.49.02.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/be265a98-efe3-46de-9b62-80909ca256e4/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.49.02.png)

μ΄λ² κ²½μ°μ—λ„ Application Data κ°™μ€ μ¶”κ°€ μ „μ†΅μ΄ μλ”λ° μ‚΄ν΄λ³΄λ‹ μ΄κ² μ‹¤μ  μ „μ†΅ λ°μ΄ν„° κ°™μµλ‹λ‹¤.

---

### **5. Server Change Cipher Spec, Encrypted Handshake Message**

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-12-01 α„‹α…©α„’α…® 4.49.58.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cf024025-486d-4514-84ae-3a7c5951c17c/d68c7dcc-0af4-43cb-91aa-3754306dd897/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-12-01_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.49.58.png)

- μ„λ²„λ„ λ§μ°¬κ°€μ§€λ΅ Change Cipher Spec μ„ λ³΄λ‚΄κ³  λ©”μ‹μ§€λ¥Ό λ³΄λƒ…λ‹λ‹¤. κµ¬μ„±μ„ λ΄¤μ„ λ• finished μ„ μ—­ν• μ΄ λ§λ”κ²ƒ κ°™μµλ‹λ‹¤.